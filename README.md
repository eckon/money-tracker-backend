# testing rust backend

## dev
- `cargo install cargo-watch` -> `cargo watch -x run` for hot reload
- docker compose up
- add `.env` file with `DATABASE_URL` and string example: `DATABASE_URL=postgres://user:password@server/db`
  - for the service to connect to (started in docker)
- start server with `cargo run`

- install `diesel_cli` to run commands
  - could be that sql is missing, install libpq-dev, libmysqlclient-dev, libsqlite3-dev
  - create/update/run/etc. db migrations with diesel cli
  - `diesel setup`
  - `diesel migration generate my_name`
    - manually create a migration (have to put sql inside the up/down)
  - `diesel migration run`
  - how i understood
    - create migration manually via cli
    - update the up/down files
    - create models to connect rust code with db
    - use schema (generated by diesel) and model to communicate with db
    - could be that we can generate stuff out of the model as well, but have to look into that

## examples
First implementation used the official actix example mostly combined with the official diesel example

- https://www.vultr.com/docs/building-rest-apis-in-rust-with-actix-web/
- https://github.dev/actix/examples/tree/master/databases/diesel
- https://hub.qovery.com/guides/tutorial/create-a-blazingly-fast-api-in-rust-part-1/
- https://www.youtube.com/watch?v=L8tWKqSMKUI
- https://blog.logrocket.com/create-backend-api-with-rust-postgres/
- https://diesel.rs/guides/getting-started
